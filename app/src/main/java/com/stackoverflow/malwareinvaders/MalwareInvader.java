package com.stackoverflow.malwareinvaders;

import android.app.Activity;
import android.os.Bundle;
import android.view.MotionEvent;
import android.graphics.Bitmap;
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.Paint;
import android.graphics.Point;
import android.view.Display;
import android.util.Log;
import android.widget.ImageView;

public class MalwareInvader extends Activity {
    //set up some variables just for now
    int numberHorizontalPixels;
    int numberVerticalPixels;

    Phoenix3000 phoenix = new Phoenix3000();

    ImageView gameView;
    Bitmap blankBitmap;
    Canvas canvas;
    Paint paint;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        //get the current device's screen resolution
        Display display = getWindowManager().getDefaultDisplay();
        Point size = new Point();
        display.getSize(size);

        //get the pixel numbers for the device
        numberHorizontalPixels = size.x;
        numberVerticalPixels = size.y;

        blankBitmap = Bitmap.createBitmap(numberHorizontalPixels, numberVerticalPixels, Bitmap.Config.ARGB_8888);

        //set up blank canvas page
        canvas = new Canvas(blankBitmap);
        gameView = new ImageView(this);
        paint = new Paint();

        setContentView (gameView);

        Log.d("Debugging", "In onCreate");

        drawbackground();
        setPhoenix();
    }

    void setPhoenix(){
        phoenix.initializePhoneix(numberHorizontalPixels, numberVerticalPixels);
        phoenix.draw(phoenix.hPosition, phoenix.vPosition, paint, canvas);
    }

    void drawbackground(){
        gameView.setImageBitmap(blankBitmap);

        //Wipe the screen with a white color for now
        canvas.drawColor(Color.argb(255,255,255,255));

        Log.d("Debugging", "In draw");
    }
}
